# Environment Configuration Template

## Backend Environment (.env)

```env
# ========== DATABASE ==========
DATABASE_URL="mysql://username:password@localhost:3306/eshopping"

# ========== SERVER ==========
PORT=5000
NODE_ENV=development
# NODE_ENV=production

# ========== SECURITY ==========
JWT_SECRET="your-super-secret-jwt-key-change-in-production"
JWT_EXPIRE="7d"

# ========== CORS ==========
CORS_ORIGIN="http://localhost:5173"
# CORS_ORIGIN="https://yourdomain.com" # Production

# ========== FILE UPLOAD ==========
MAX_FILE_SIZE=5242880  # 5MB in bytes
UPLOAD_DIR="./uploads"

# ========== EMAIL SERVICE (Optional) ==========
EMAIL_SERVICE="gmail"
EMAIL_USER="your-email@gmail.com"
EMAIL_PASS="your-app-specific-password"
EMAIL_FROM="noreply@eshopping.com"

# ========== PAYMENT GATEWAY (Optional) ==========
STRIPE_PUBLIC_KEY="pk_test_..."
STRIPE_SECRET_KEY="sk_test_..."
STRIPE_WEBHOOK_SECRET="whsec_..."

# ========== LOGGING ==========
LOG_LEVEL="info"
# LOG_LEVEL="debug" # Development

# ========== RATE LIMITING ==========
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100

# ========== REDIS (Optional) ==========
REDIS_URL="redis://localhost:6379"

# ========== AWS (Optional) ==========
AWS_REGION="us-east-1"
AWS_ACCESS_KEY_ID="your-access-key"
AWS_SECRET_ACCESS_KEY="your-secret-key"
AWS_S3_BUCKET="your-bucket-name"

# ========== FEATURES ==========
ENABLE_NOTIFICATIONS=true
ENABLE_EMAIL_VERIFICATION=false
ENABLE_PAYMENT_GATEWAY=false

# ========== ADMIN ==========
ADMIN_EMAIL="admin@eshopping.com"
ADMIN_PASSWORD="admin123"
```

## Frontend Environment (.env)

```env
# ========== API CONFIGURATION ==========
VITE_API_URL="http://localhost:5000/api"
# VITE_API_URL="https://api.yourdomain.com/api" # Production

# ========== APP CONFIGURATION ==========
VITE_APP_NAME="E-Shopping"
VITE_APP_VERSION="1.0.0"
VITE_APP_DESCRIPTION="Full-stack e-commerce platform"

# ========== FEATURES ==========
VITE_ENABLE_ANALYTICS=false
VITE_ENABLE_NOTIFICATIONS=true
VITE_ENABLE_CHAT=false

# ========== THIRD-PARTY SERVICES ==========
VITE_GOOGLE_ANALYTICS_ID=""
VITE_SENTRY_DSN=""
VITE_STRIPE_PUBLIC_KEY=""

# ========== DEVELOPMENT ==========
VITE_DEBUG_MODE=false
VITE_MOCK_API=false

# ========== ENVIRONMENT ==========
# VITE_ENVIRONMENT="production"
VITE_ENVIRONMENT="development"
```

## Development Configuration (.env.development)

```env
# Backend
DATABASE_URL="mysql://root:password@localhost:3306/eshopping_dev"
PORT=5000
NODE_ENV=development
JWT_SECRET="dev-secret-key-change-in-production"
CORS_ORIGIN="http://localhost:5173,http://localhost:3000"
LOG_LEVEL="debug"

# Frontend
VITE_API_URL="http://localhost:5000/api"
VITE_ENVIRONMENT="development"
VITE_DEBUG_MODE=true
```

## Production Configuration (.env.production)

```env
# Backend
DATABASE_URL="mysql://prod_user:secure_password@db.example.com:3306/eshopping"
PORT=5000
NODE_ENV=production
JWT_SECRET="generate-random-secure-key-here"
JWT_EXPIRE="24h"
CORS_ORIGIN="https://yourdomain.com"
LOG_LEVEL="info"
EMAIL_SERVICE="sendgrid"
STRIPE_SECRET_KEY="sk_live_..."
ENABLE_PAYMENT_GATEWAY=true

# Frontend
VITE_API_URL="https://api.yourdomain.com/api"
VITE_ENVIRONMENT="production"
VITE_DEBUG_MODE=false
VITE_ENABLE_ANALYTICS=true
VITE_GOOGLE_ANALYTICS_ID="UA-XXXXXXXXX-X"
```

## Docker Environment (.env.docker)

```env
# MySQL
MYSQL_ROOT_PASSWORD=root123
MYSQL_DATABASE=eshopping
MYSQL_USER=eshopping
MYSQL_PASSWORD=secure_password

# Backend
DATABASE_URL="mysql://eshopping:secure_password@db:3306/eshopping"
PORT=5000
NODE_ENV=development
CORS_ORIGIN="http://localhost:3000,http://localhost:5173"

# Frontend
VITE_API_URL="http://localhost:5000/api"
```

## Security Considerations

### üîê Production Secrets

1. **JWT_SECRET**
   ```bash
   # Generate secure key
   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
   ```

2. **Database Password**
   - Use strong, random passwords
   - Store in secure vault (AWS Secrets Manager, HashiCorp Vault)
   - Never commit to repository

3. **API Keys**
   - Rotate regularly
   - Use different keys for dev/prod
   - Store in environment variables
   - Never expose in frontend

4. **CORS Origins**
   - Whitelist specific domains
   - Avoid using wildcards in production

### ‚úÖ Validation Checklist

- [ ] `.env` file not committed to git
- [ ] `.env.example` has no sensitive values
- [ ] All secrets have unique values per environment
- [ ] Production secrets are 32+ characters
- [ ] Database passwords are strong
- [ ] JWT secrets are randomly generated
- [ ] API keys are from trusted sources
- [ ] Secrets are rotated regularly

### üìù Environment Variable Naming

Follow these patterns:
- `FEATURE_NAME` - Boolean flags
- `FEATURE_CONFIG` - Configuration values
- `FEATURE_KEY` - API keys
- `FEATURE_URL` - URLs/endpoints
- `FEATURE_SECRET` - Sensitive values

### üöÄ Deployment

1. **Development**
   ```bash
   cp .env.example .env
   # Edit with development values
   ```

2. **Staging**
   ```bash
   # Use staging values in .env.staging
   # Ensure test data only
   ```

3. **Production**
   ```bash
   # Use production values
   # Set via CI/CD or deployment tool
   # Never commit production .env
   ```

### üì¶ Docker Compose

Use `.env.docker` for container environment:

```yaml
services:
  db:
    environment:
      MYSQL_ROOT_PASSWORD: ${MYSQL_ROOT_PASSWORD}
      MYSQL_DATABASE: ${MYSQL_DATABASE}
  
  backend:
    environment:
      DATABASE_URL: ${DATABASE_URL}
      PORT: ${PORT}
```

---

**Never commit `.env` files with actual secrets to version control!**

Use `.env.example` to document required variables without sensitive values.
